<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>THE MOVIE DB</title>
    <link rel="stylesheet" href="bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="css/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>

<body ng-app="app">
    <div class="container-fluid">

        <div class="row uno">
            <div class="col-md-2 col-sm-12">
                <img src="images/cinema.png" width="100px">
            </div>
            
            <div class="col-md-10 col-sm-12" ng-include="'/app/UI/nav.template.html'"></div>
        </div>
    </div>
    <!--fine menu-->

    <div ng-controller="FilmCtrl">
        <div ng-controller="GeneriCtrl">
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <h1 class="titolo_film_popolari" ng-show="all"  ng-hide="form_visibile"> Film popolari </h1>
                    </div>
                    
                    <div class="col-md-3 col-md-offset-6">
                        <select ng-show="all" ng-hide="form_visibile" class="form-control" ng-options="gen.name for gen in elencogeneri" ng-model="genere"></select>
                    </div>
                </div>

                <!-- lista films -->
                <div ng-hide="form_visibile" class="row">
                    
                    <div ng-repeat="film in films | filtro_genere:genere | filter:SearchText" style="margin:0 50px;">
                        <div class="col-sm-12 col-md-6" ng-show="all">
                            <div class="thumbnail thumbnail_listafilms">
                                <img id="pannello_film" ng-src="https://image.tmdb.org/t/p/w500{{film.poster_path}}">
                                <div class="caption" style="float:right; width:280px">
                                    <h4>
                                        <strong>{{film.title }}</strong>
                                    </h4>
                                    <p>Voto: {{film.vote_average | number:1}} </p>
                                    <p ng-bind="trama">ciao ciao ciao ciao </p>
                                    <p>Trama: {{film.overview | limitTo:130}}... </p>
                                    <p>
                                        <a ng-click="dettaglio(film._id)" class="btn btn-primary" role="button">Dettaglio</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--dettaglio film-->
            <div class="row">
                <div class="sfondo_img">
                    <div style="background-image: radial-gradient(circle at 20% 50%, rgba(11.76%, 15.29%, 17.25%, 0.94) 0%, rgba(25.88%, 38.82%, 62.35%, 0.94) 100%);">
                        <div class="col-sm-12 col-md-12" ng-hide="all" style="float:none;padding:50px 200px;">
                            <img width="300px" ng-src="https://image.tmdb.org/t/p/w500{{film.poster_path}}">
                            <div class="caption" style="float:right; width:500px;color:white;text-shadow:0px 0px 3px black;">
                                <h1>{{film.title}}</h1>
                                <p>Voto: {{film.vote_average | number}}</p>
                                <i class="fa fa-star" aria-hidden="true"></i>
                                <p>
                                    <h4>Recensione:</h4> {{film.overview}}</p>
                                <p>
                                    <a ng-click="dettaglio(film._id)" class="btn btn-primary" role="button">Dettaglio</a>
                                </p>
                            </div>

                        </div>
                    </div>
                </div>
            </div>


             <!-- form -->
             <div ng-show="form_visibile" class="col-md-6 col-md-offset-3">
              <h1>Inserisci film</h1>
                
                    <div class="form-group">
                        <label>Immagine film:</label>
                        <input type="text" ng-model="film.immagine" id="input1" placeholder="Inserisci una immagine" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Nome film:</label>
                        <input type="text" ng-model="film.nome" id="input1" placeholder="Inserisci il nome" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Voto film:</label>
                        <input type="number" ng-model="film.voto" id="input2"  placeholder="Inserisci il voto" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Recensione:</label>
                        <textarea type="text" ng-model="film.recensione" id="input2" placeholder="Inserisci una recensione" class="form-control"></textarea>
                    </div>
                    <div class="form-group" style="text-align:center">
                        <button ng-click="inserisci_film(film)" class="btn btn-default" style="color:rgb(54, 54, 54);background-color:rgb(255, 182, 56)">Inserisci il film</button>
                    </div>
        
                    
            </div> <!--fine form-->





        </div>
    </div>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="bootstrap/dist/js/bootstrap.min.js"></script>
<script src="angular/angular.min.js"></script>
<script src="app/app.js"></script>
<script src="app/film/controller.js"></script>
<script src="app/film/service.js"></script>
<script src="app/film/filter.js"></script>
<script src="app/generi/controller.js"></script>
<script src="app/generi/service.js"></script>


</html>